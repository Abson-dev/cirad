plotPAZ1<-ggplot(map1)   +
geom_sf(aes(color = Faidherbia)) +
geom_sf(data = z1, colour = "black", fill = NA) +
geom_raster(data= worldClim.crop$bio1,aes(fill = worldClim.crop$bio1)) +
theme_bw() + annotation_scale(location = "bl", width_hint = 0.3) +
annotation_north_arrow(location = "bl", which_north = "true",
pad_x = unit(0.1, "in"), pad_y = unit(0.2, "in"),
style = north_arrow_fancy_orienteering)
dataFZ1<-CovarExtract(x=FZ1,cov.paths = l1) # en utilsisant SDMSelect
library(SDMSelect)
dataFZ1<-CovarExtract(x=FZ1,cov.paths = l1) # en utilsisant SDMSelect
dataFZ1
plotPAZ1<-ggplot(map1)   +
geom_sf(aes(color = Faidherbia)) +
geom_sf(data = z1, colour = "black", fill = NA) +
geom_raster(data= map1,aes(fill = bio1)) +
theme_bw() + annotation_scale(location = "bl", width_hint = 0.3) +
annotation_north_arrow(location = "bl", which_north = "true",
pad_x = unit(0.1, "in"), pad_y = unit(0.2, "in"),
style = north_arrow_fancy_orienteering)
plotPAZ1
eruptions
ggplot(faithfuld, aes(waiting, eruptions)) +
geom_raster(aes(fill = density))
dataFZ1
dataF1<-dataFZ1@data
View(dataF1)
mf1<-map1
mf1$Faidherbia<-if_else(mf1$Faidherbia =="présence","1","0")
mf1$Faidherbia<-as.factor(mf1$Faidherbia)
View(dataF1)
View(mf1)
rasterFZ1<-left_join(mf1,dataF1)
dataF1$Faidherbia<-as.factor(dataF1$Faidherbia)
rasterFZ1<-left_join(mf1,dataF1)
View(rasterFZ1)
rasterFZ1<-left_join(mf1,dataF1,by="Faidherbia")
rasterFZ1<-left_join(mf1,dataF1,by="bio1")
########Model Faidherbia albida
Base_Faidherbia_Z1<-Base_Espece_Zone1 %>%
select(xcoord,ycoord,Faidherbia_albida)
names(Base_Faidherbia_Z1)<-c("lon","lat","Faidherbia")
View(data_df)
View(Base_Faidherbia_Z1)
joint1<-Base_Faidherbia_Z1 %>%
select(lon,lat)
rasterFZ1<-cbind(dataF1,joint1)
p <- ggplot(rasterFZ1, aes(lon,lat)) +
geom_raster(data= rasterFZ1,aes(fill = bio1)) +
coord_equal()
p
p <- ggplot(rasterFZ1, aes(lon,lat)) +
geom_raster(data= rasterFZ1,aes(fill = bio1))
p
p <- ggplot(rasterFZ1, aes(lat,lon)) +
geom_raster(data= rasterFZ1,aes(fill = bio1))
p
p <- ggplot(rasterFZ1, aes(lat,lon)) +
geom_raster(data= rasterFZ1,aes(fill = bio1)) +
coord_equal() + scale_fill_viridis(name = "Estimation") +
geom_point( size=3,color = rgb(0.2,0.2,0.2,0.1))
library(viridis)
p <- ggplot(rasterFZ1, aes(lat,lon)) +
geom_raster(data= rasterFZ1,aes(fill = bio1)) +
coord_equal() + scale_fill_viridis(name = "Estimation") +
geom_point( size=3,color = rgb(0.2,0.2,0.2,0.1))
p
p <- ggplot(rasterFZ1, aes(lon,lat)) +
geom_raster(data= rasterFZ1,aes(fill = bio1)) +
coord_equal() + scale_fill_viridis(name = "Estimation") +
geom_point( size=3,color = rgb(0.2,0.2,0.2,0.1))
p
plot(worldClim.crop$bio1)
worldClim.crop$bio1
plotPAZ1<-ggplot(map1)   +
geom_sf(aes(color = Faidherbia)) +
geom_sf(data = z1, colour = "black", fill = NA)  +
theme_bw() + annotation_scale(location = "bl", width_hint = 0.3) +
annotation_north_arrow(location = "bl", which_north = "true",
pad_x = unit(0.1, "in"), pad_y = unit(0.2, "in"),
style = north_arrow_fancy_orienteering)
plotPAZ1
ggsave("C:\\Users\\Hp\\OneDrive\\redactions\\Faidherbia Model\\PA_FaidherbiaZ1.png",plotPAZ1)
ggplot(faithfuld, aes(waiting, eruptions)) +
geom_raster(aes(fill = density))
# Interpolation smooths the surface & is most helpful when rendering images.
ggplot(faithfuld, aes(waiting, eruptions)) +
geom_raster(aes(fill = density), interpolate = TRUE)
ggplot(faithfuld, aes(waiting, eruptions)) +
geom_raster(aes(fill = density))
# Interpolation smooths the surface & is most helpful when rendering images.
ggplot(faithfuld, aes(waiting, eruptions)) +
geom_raster(aes(fill = density), interpolate = TRUE)
# If you want to draw arbitrary rectangles, use geom_tile() or geom_rect()
df <- data.frame(
x = rep(c(2, 5, 7, 9, 12), 2),
y = rep(c(1, 2), each = 5),
z = factor(rep(1:5, each = 2)),
w = rep(diff(c(0, 4, 6, 8, 10, 14)), 2)
)
View(df)
ggplot(df, aes(x, y)) +
geom_tile(aes(fill = z), colour = "grey50")
ggplot(df, aes(x, y, width = w)) +
geom_tile(aes(fill = z), colour = "grey50")
ggplot(df, aes(xmin = x - w / 2, xmax = x + w / 2, ymin = y, ymax = y + 1)) +
geom_rect(aes(fill = z), colour = "grey50")
# Justification controls where the cells are anchored
df <- expand.grid(x = 0:5, y = 0:5)
View(df)
df$z <- runif(nrow(df))
# default is compatible with geom_tile()
ggplot(df, aes(x, y, fill = z)) + geom_raster()
# zero padding
ggplot(df, aes(x, y, fill = z)) + geom_raster(hjust = 0, vjust = 0)
# Inspired by the image-density plots of Ken Knoblauch
cars <- ggplot(mtcars, aes(mpg, factor(cyl)))
cars + geom_point()
cars + stat_bin2d(aes(fill = stat(count)), binwidth = c(3,1))
cars + stat_bin2d(aes(fill = stat(density)), binwidth = c(3,1))
cars + stat_density(aes(fill = stat(density)), geom = "raster", position = "identity")
cars + stat_density(aes(fill = stat(count)), geom = "raster", position = "identity")
View(df)
View(rasterFZ1)
worldClim.crop$bio1
# names(Base_Faidherbia_Z1)<-c("lon","lat","Faidherbia")
# joint1<-Base_Faidherbia_Z1 %>%
#   select(lon,lat)
# rasterFZ1<-cbind(dataF1,joint1)
# library(viridis)
# p <- ggplot(rasterFZ1, aes(lon,lat)) +
#   geom_raster(data= rasterFZ1,aes(fill = bio1)) +
#   coord_equal() + scale_fill_viridis(name = "Estimation") +
#   geom_point( size=3,color = rgb(0.2,0.2,0.2,0.1))
#####chercher l'information sur la zone d'étude 1(zone 1)
zone_etude1<-shapefile("C:\\Users\\Hp\\OneDrive\\Memoire_ITS4\\shpzones\\Zone_1_BON.shp")
View(Base_Faidherbia_Z1)
library(dplyr)
##########???les espèces dans les différentes zones
Base_Espece_Zone1<-data_df %>%
filter(Zone == 1)
Base_Espece_Zone2<-data_df %>%
filter(Zone == 2)
Base_Espece_Zone4<-data_df %>%
filter(Zone == 3)
Base_Espece_Zone4<-data_df %>%
filter(Zone == 4)
View(Base_Espece)
View(Base_Espece_Zone1)
View(Base_Espece_Zone2)
View(Base_Espece_Zone4)
Base_Espece_Zone3<-data_df %>%
filter(Zone == 3)
Base_Faidherbia_Z2<-Base_Espece_Zone2 %>%
select(xcoord,ycoord,Faidherbia_albida)
names(Base_Faidherbia_Z2)<-c("lon","lat","Faidherbia")
FZ2<-Base_Faidherbia_Z2
####zone 4
Base_Faidherbia_Z3<-Base_Espece_Zone3 %>%
select(xcoord,ycoord,Faidherbia_albida)
names(Base_Faidherbia_Z3)<-c("lon","lat","Faidherbia")
FZ3<-Base_Faidherbia_Z3
####♦zone 4
Base_Faidherbia_Z4<-Base_Espece_Zone4 %>%
select(xcoord,ycoord,Faidherbia_albida)
names(Base_Faidherbia_Z4)<-c("lon","lat","Faidherbia")
FZ4<-Base_Faidherbia_Z4
###zone 2
sp::coordinates(FZ2) <-~lon+lat
sp::proj4string(FZ2) <-"+proj=longlat +datum=WGS84"
###zone 3
sp::coordinates(FZ3) <-~lon+lat
sp::proj4string(FZ3) <-"+proj=longlat +datum=WGS84"
###zone 4
sp::coordinates(FZ4) <-~lon+lat
sp::proj4string(FZ4) <-"+proj=longlat +datum=WGS84"
###zone 2
dataFZ2<-CovarExtract(x=FZ2,cov.paths = l1)
######### ici je fais uniquement la modélisation de Faidherbia albida
library(SDMSelect)
###zone 2
dataFZ2<-CovarExtract(x=FZ2,cov.paths = l1)
###zone 3
dataFZ3<-CovarExtract(x=FZ3,cov.paths = l1)
###zone 4
dataFZ4<-CovarExtract(x=FZ4,cov.paths = l1)
library(rgdal)
##zone 2
writeOGR(obj=dataFZ2,dsn=tmpdir,layer="dataFZ2",driver="ESRI Shapefile")
##zone 3
writeOGR(obj=dataFZ3,dsn=tmpdir,layer="dataFZ3",driver="ESRI Shapefile")
##zone 4
writeOGR(obj=dataFZ4,dsn=tmpdir,layer="dataFZ4",driver="ESRI Shapefile")
##zone 2
filename_PA_Z2<-paste0("C:\\Users\\Hp\\OneDrive\\redactions","\\dataFZ2.shp")
PA_FZ2<-shapefile(filename_PA_Z2)
map2<-st_as_sf(PA_FZ2)
library(sf)
map2<-st_as_sf(PA_FZ2)
map2$Faidherbia<-if_else(map2$Faidherbia ==1,"présence","absence")
map2$Faidherbia<-as.factor(map2$Faidherbia)
##zone 3
filename_PA_Z3<-paste0("C:\\Users\\Hp\\OneDrive\\redactions","\\dataFZ3.shp")
PA_FZ3<-shapefile(filename_PA_Z3)
map3<-st_as_sf(PA_FZ3)
map3$Faidherbia<-if_else(map3$Faidherbia ==1,"présence","absence")
map3$Faidherbia<-as.factor(map3$Faidherbia)
PA_FZ4<-shapefile(filename_PA_Z4)
##zone 4
filename_PA_Z4<-paste0("C:\\Users\\Hp\\OneDrive\\redactions","\\dataFZ4.shp")
PA_FZ4<-shapefile(filename_PA_Z4)
map4<-st_as_sf(PA_FZ4)
map4$Faidherbia<-if_else(map4$Faidherbia ==1,"présence","absence")
map4$Faidherbia<-as.factor(map4$Faidherbia)
##zone 2
zone_etude2<-shapefile("C:\\Users\\Hp\\OneDrive\\Memoire_ITS4\\shpzones\\Zone_2_BON.shp")
z2<-st_as_sf(zone_etude2)
##zone 3
zone_etude3<-shapefile("C:\\Users\\Hp\\OneDrive\\Memoire_ITS4\\shpzones\\Zone_3_BON.shp")
z3<-st_as_sf(zone_etude3)
##zone 4
zone_etude4<-shapefile("C:\\Users\\Hp\\OneDrive\\Memoire_ITS4\\shpzones\\Zone_4_BON.shp")
z4<-st_as_sf(zone_etude4)
library("ggspatial")
library(tmap)
library(ggplot2)
##zone 2
plotPAZ2<-ggplot(map2)   +
geom_sf(aes(color = Faidherbia)) +
geom_sf(data = z2, colour = "black", fill = NA)  +
theme_bw() + annotation_scale(location = "bl", width_hint = 0.3) +
annotation_north_arrow(location = "bl", which_north = "true",
pad_x = unit(0.1, "in"), pad_y = unit(0.2, "in"),
style = north_arrow_fancy_orienteering)
plotPAZ2
ggsave("C:\\Users\\Hp\\OneDrive\\redactions\\Faidherbia Model\\PA_FaidherbiaZ2.png",plotPAZ2)
##zone 3
plotPAZ3<-ggplot(map3)   +
geom_sf(aes(color = Faidherbia)) +
geom_sf(data = z3, colour = "black", fill = NA)  +
theme_bw() + annotation_scale(location = "bl", width_hint = 0.3) +
annotation_north_arrow(location = "bl", which_north = "true",
pad_x = unit(0.1, "in"), pad_y = unit(0.2, "in"),
style = north_arrow_fancy_orienteering)
ggsave("C:\\Users\\Hp\\OneDrive\\redactions\\Faidherbia Model\\PA_FaidherbiaZ3.png",plotPAZ3)
##zone 4
plotPAZ4<-ggplot(map4)   +
geom_sf(aes(color = Faidherbia)) +
geom_sf(data = z4, colour = "black", fill = NA)  +
theme_bw() + annotation_scale(location = "bl", width_hint = 0.3) +
annotation_north_arrow(location = "bl", which_north = "true",
pad_x = unit(0.1, "in"), pad_y = unit(0.2, "in"),
style = north_arrow_fancy_orienteering)
ggsave("C:\\Users\\Hp\\OneDrive\\redactions\\Faidherbia Model\\PA_FaidherbiaZ4.png",plotPAZ4)
View(Base_Espece_Zone1)
names(Base_Espece_Zone1)
###################Balanites albida dans les zones
####zone 1
Base_Balanites_Z1<-Base_Espece_Zone1 %>%
select(xcoord,ycoord,Balanites_aegyptiaca)
names(Base_Balanites_Z1)<-c("lon","lat","Balanites")
BZ1<-Base_Balanites_Z1
####zone 2
Base_Balanites_Z2<-Base_Espece_Zone2 %>%
select(xcoord,ycoord,Balanites_aegyptiaca)
names(Base_Balanites_Z2)<-c("lon","lat","Balanites")
BZ2<-Base_Balanites_Z2
####zone 3
Base_Balanites_Z3<-Base_Espece_Zone3 %>%
select(xcoord,ycoord,Balanites_aegyptiaca)
names(Base_Balanites_Z3)<-c("lon","lat","Balanites")
BZ3<-Base_Balanites_Z3
####♦zone 4
Base_Balanites_Z4<-Base_Espece_Zone4 %>%
select(xcoord,ycoord,Balanites_aegyptiaca)
names(Base_Balanites_Z4)<-c("lon","lat","Balanites")
BZ4<-Base_Balanites_Z4
##################fin zones
#Transform data as SpatialPointDataFrame
###zone 1
sp::coordinates(BZ1) <-~lon+lat
sp::proj4string(BZ1) <-"+proj=longlat +datum=WGS84"
###zone 2
sp::coordinates(BZ2) <-~lon+lat
sp::proj4string(BZ2) <-"+proj=longlat +datum=WGS84"
###zone 3
sp::coordinates(BZ3) <-~lon+lat
sp::proj4string(BZ3) <-"+proj=longlat +datum=WGS84"
###zone 4
sp::coordinates(BZ4) <-~lon+lat
sp::proj4string(BZ4) <-"+proj=longlat +datum=WGS84"
##############"fin zones
#extract covariables, combine with dataset
###zone 1
dataBZ1<-CovarExtract(x=BZ1,cov.paths = l1) # en utilsisant SDMSelect
###zone 2
dataBZ2<-CovarExtract(x=BZ2,cov.paths = l1)
###zone 3
dataBZ3<-CovarExtract(x=BZ3,cov.paths = l1)
###zone 4
dataBZ4<-CovarExtract(x=BZ4,cov.paths = l1)
#############fins zones
##zone 1
writeOGR(obj=dataBZ1,dsn=tmpdir,layer="dataBZ1",driver="ESRI Shapefile")
##zone 2
writeOGR(obj=dataBZ2,dsn=tmpdir,layer="dataBZ2",driver="ESRI Shapefile")
##zone 3
writeOGR(obj=dataBZ3,dsn=tmpdir,layer="dataBZ3",driver="ESRI Shapefile")
##zone 4
writeOGR(obj=dataBZ4,dsn=tmpdir,layer="dataBZ4",driver="ESRI Shapefile")
############### importer dataBZ1.shp,dataBZ2.shp,dataBZ3.shp,dataBZ4.shp
##zone 1
filename_PA_B_Z1<-paste0("C:\\Users\\Hp\\OneDrive\\redactions","\\dataBZ1.shp")
PA_BZ1<-shapefile(filename_PA_B_Z1)
map_B_1<-st_as_sf(PA_BZ1)
map_B_1$Balanites<-if_else(map_B_1$Balanites ==1,"présence","absence")
map_B_1$Balanites<-as.factor(map_B_1$Balanites)
##zone 2
filename_PA_B_Z2<-paste0("C:\\Users\\Hp\\OneDrive\\redactions","\\dataBZ2.shp")
PA_BZ2<-shapefile(filename_PA_B_Z2)
map_B_2<-st_as_sf(PA_BZ2)
map_B_2$Balanites<-if_else(map_B_2$Balanites ==1,"présence","absence")
map_B_2$Balanites<-as.factor(map_B_2$Balanites)
##zone 3
filename_PA_B_Z3<-paste0("C:\\Users\\Hp\\OneDrive\\redactions","\\dataBZ3.shp")
PA_BZ3<-shapefile(filename_PA_B_Z3)
map_B_3<-st_as_sf(PA_BZ3)
map_B_3$Balanites<-if_else(map_B_3$Balanites ==1,"présence","absence")
map_B_3$Balanites<-as.factor(map_B_3$Balanites)
##zone 4
filename_PA_B_Z4<-paste0("C:\\Users\\Hp\\OneDrive\\redactions","\\dataBZ4.shp")
PA_BZ4<-shapefile(filename_PA_B_Z4)
map_B_4<-st_as_sf(PA_BZ4)
map_B_4$Balanites<-if_else(map_B_4$Balanites ==1,"présence","absence")
map_B_4$Balanites<-as.factor(map_B_4$Balanites)
names(Base_Balanites_Z1)
names(Base_Espece_Zone1)
##########.shp des zones déjà importer
###########répresentation graphique des présence/absence de Balanites aegyptiaca dans les zones
##zone 1
plotPA_B_Z1<-ggplot(map_B_1)   +
geom_sf(aes(color = Balanites)) +
geom_sf(data = z1, colour = "black", fill = NA)  +
theme_bw() + annotation_scale(location = "bl", width_hint = 0.3) +
annotation_north_arrow(location = "bl", which_north = "true",
pad_x = unit(0.1, "in"), pad_y = unit(0.2, "in"),
style = north_arrow_fancy_orienteering)
plotPA_B_Z1
ggsave("C:\\Users\\Hp\\OneDrive\\redactions\\Balanites Model\\PA_BalanitesZ1.png",plotPA_B_Z1)
##zone 2
plotPA_B_Z2<-ggplot(map_B_2)   +
geom_sf(aes(color = Balanites)) +
geom_sf(data = z2, colour = "black", fill = NA)  +
theme_bw() + annotation_scale(location = "bl", width_hint = 0.3) +
annotation_north_arrow(location = "bl", which_north = "true",
pad_x = unit(0.1, "in"), pad_y = unit(0.2, "in"),
style = north_arrow_fancy_orienteering)
ggsave("C:\\Users\\Hp\\OneDrive\\redactions\\Balanites Model\\PA_BalanitesZ2.png",plotPA_B_Z2)
##zone 3
plotPA_B_Z3<-ggplot(map_B_3)   +
geom_sf(aes(color = Balanites)) +
geom_sf(data = z3, colour = "black", fill = NA)  +
theme_bw() + annotation_scale(location = "bl", width_hint = 0.3) +
annotation_north_arrow(location = "bl", which_north = "true",
pad_x = unit(0.1, "in"), pad_y = unit(0.2, "in"),
style = north_arrow_fancy_orienteering)
ggsave("C:\\Users\\Hp\\OneDrive\\redactions\\Balanites Model\\PA_BalanitesZ3.png",plotPA_B_Z3)
##zone 4
plotPA_B_Z4<-ggplot(map_B_4)   +
geom_sf(aes(color = Balanites)) +
geom_sf(data = z4, colour = "black", fill = NA)  +
theme_bw() + annotation_scale(location = "bl", width_hint = 0.3) +
annotation_north_arrow(location = "bl", which_north = "true",
pad_x = unit(0.1, "in"), pad_y = unit(0.2, "in"),
style = north_arrow_fancy_orienteering)
ggsave("C:\\Users\\Hp\\OneDrive\\redactions\\Balanites Model\\PA_BalanitesZ4.png",plotPA_B_Z4)
names(Base_Espece_Zone1)
###################Anogeissus albida dans les zones
####zone 1
Base_Anogeissus_Z1<-Base_Espece_Zone1 %>%
select(xcoord,ycoord,Anogeissus_leiocarpus)
names(Base_Anogeissus_Z1)<-c("lon","lat","Anogeissus")
BZ1<-Base_Anogeissus_Z1
BZ1<-Base_Balanites_Z1
AZ1<-Base_Anogeissus_Z1
####zone 2
Base_Anogeissus_Z2<-Base_Espece_Zone2 %>%
select(xcoord,ycoord,Anogeissus_leiocarpus)
names(Base_Anogeissus_Z2)<-c("lon","lat","Anogeissus")
AZ2<-Base_Anogeissus_Z2
####zone 3
Base_Anogeissus_Z3<-Base_Espece_Zone3 %>%
select(xcoord,ycoord,Anogeissus_leiocarpus)
names(Base_Anogeissus_Z3)<-c("lon","lat","Anogeissus")
AZ3<-Base_Anogeissus_Z3
####♦zone 4
Base_Anogeissus_Z4<-Base_Espece_Zone4 %>%
select(xcoord,ycoord,Anogeissus_leiocarpus)
names(Base_Anogeissus_Z4)<-c("lon","lat","Anogeissus")
AZ4<-Base_Anogeissus_Z4
##################fin zones
#Transform data as SpatialPointDataFrame
###zone 1
sp::coordinates(AZ1) <-~lon+lat
sp::proj4string(AZ1) <-"+proj=longlat +datum=WGS84"
###zone 2
sp::coordinates(AZ2) <-~lon+lat
sp::proj4string(AZ2) <-"+proj=longlat +datum=WGS84"
###zone 3
sp::coordinates(AZ3) <-~lon+lat
sp::proj4string(AZ3) <-"+proj=longlat +datum=WGS84"
###zone 4
sp::coordinates(AZ4) <-~lon+lat
sp::proj4string(AZ4) <-"+proj=longlat +datum=WGS84"
##############"fin zones
#extract covariables, combine with dataset
###zone 1
dataAZ1<-CovarExtract(x=AZ1,cov.paths = l1) # en utilsisant SDMSelect
###zone 2
dataAZ2<-CovarExtract(x=AZ2,cov.paths = l1)
###zone 3
dataAZ3<-CovarExtract(x=AZ3,cov.paths = l1)
###zone 4
dataAZ4<-CovarExtract(x=AZ4,cov.paths = l1)
#############fins zones
##zone 1
writeOGR(obj=dataAZ1,dsn=tmpdir,layer="dataAZ1",driver="ESRI Shapefile")
##zone 2
writeOGR(obj=dataAZ2,dsn=tmpdir,layer="dataAZ2",driver="ESRI Shapefile")
##zone 3
writeOGR(obj=dataAZ3,dsn=tmpdir,layer="dataAZ3",driver="ESRI Shapefile")
##zone 4
writeOGR(obj=dataAZ4,dsn=tmpdir,layer="dataAZ4",driver="ESRI Shapefile")
############### importer dataAZ1.shp,dataAZ2.shp,dataAZ3.shp,dataAZ4.shp
##zone 1
filename_PA_A_Z1<-paste0("C:\\Users\\Hp\\OneDrive\\redactions","\\dataAZ1.shp")
PA_AZ1<-shapefile(filename_PA_A_Z1)
map_A_1<-st_as_sf(PA_AZ1)
map_A_1$Anogeissus<-if_else(map_A_1$Anogeissus ==1,"présence","absence")
map_A_1$Anogeissus<-as.factor(map_A_1$Anogeissus)
##zone 2
filename_PA_A_Z2<-paste0("C:\\Users\\Hp\\OneDrive\\redactions","\\dataAZ2.shp")
PA_AZ2<-shapefile(filename_PA_A_Z2)
map_A_2<-st_as_sf(PA_AZ2)
map_A_2$Anogeissus<-if_else(map_A_2$Anogeissus ==1,"présence","absence")
map_A_2$Anogeissus<-as.factor(map_A_2$Anogeissus)
##zone 3
filename_PA_A_Z3<-paste0("C:\\Users\\Hp\\OneDrive\\redactions","\\dataAZ3.shp")
PA_AZ3<-shapefile(filename_PA_A_Z3)
map_A_3<-st_as_sf(PA_AZ3)
map_A_3$Anogeissus<-if_else(map_A_3$Anogeissus ==1,"présence","absence")
map_A_3$Anogeissus<-as.factor(map_A_3$Anogeissus)
##zone 4
filename_PA_A_Z4<-paste0("C:\\Users\\Hp\\OneDrive\\redactions","\\dataAZ4.shp")
PA_AZ4<-shapefile(filename_PA_A_Z4)
map_A_4<-st_as_sf(PA_AZ4)
map_A_4$Anogeissus<-if_else(map_A_4$Anogeissus ==1,"présence","absence")
map_A_4$Anogeissus<-as.factor(map_A_4$Anogeissus)
##########.shp des zones déjà importer
###########répresentation graphique des présence/absence de Anogeissus  dans les zones
##zone 1
plotPA_A_Z1<-ggplot(map_A_1)   +
geom_sf(aes(color = Anogeissus)) +
geom_sf(data = z1, colour = "black", fill = NA)  +
theme_bw() + annotation_scale(location = "bl", width_hint = 0.3) +
annotation_north_arrow(location = "bl", which_north = "true",
pad_x = unit(0.1, "in"), pad_y = unit(0.2, "in"),
style = north_arrow_fancy_orienteering)
ggsave("C:\\Users\\Hp\\OneDrive\\redactions\\Anogeissus Model\\PA_AnogeissusZ1.png",plotPA_A_Z1)
##zone 2
plotPA_A_Z2<-ggplot(map_A_2)   +
geom_sf(aes(color = Anogeissus)) +
geom_sf(data = z2, colour = "black", fill = NA)  +
theme_bw() + annotation_scale(location = "bl", width_hint = 0.3) +
annotation_north_arrow(location = "bl", which_north = "true",
pad_x = unit(0.1, "in"), pad_y = unit(0.2, "in"),
style = north_arrow_fancy_orienteering)
ggsave("C:\\Users\\Hp\\OneDrive\\redactions\\Anogeissus Model\\PA_AnogeissusZ2.png",plotPA_A_Z2)
##zone 3
plotPA_A_Z3<-ggplot(map_A_3)   +
geom_sf(aes(color = Anogeissus)) +
geom_sf(data = z3, colour = "black", fill = NA)  +
theme_bw() + annotation_scale(location = "bl", width_hint = 0.3) +
annotation_north_arrow(location = "bl", which_north = "true",
pad_x = unit(0.1, "in"), pad_y = unit(0.2, "in"),
style = north_arrow_fancy_orienteering)
ggsave("C:\\Users\\Hp\\OneDrive\\redactions\\Anogeissus Model\\PA_AnogeissusZ3.png",plotPA_A_Z3)
##zone 4
plotPA_A_Z4<-ggplot(map_A_4)   +
geom_sf(aes(color = Anogeissus)) +
geom_sf(data = z4, colour = "black", fill = NA)  +
theme_bw() + annotation_scale(location = "bl", width_hint = 0.3) +
annotation_north_arrow(location = "bl", which_north = "true",
pad_x = unit(0.1, "in"), pad_y = unit(0.2, "in"),
style = north_arrow_fancy_orienteering)
ggsave("C:\\Users\\Hp\\OneDrive\\redactions\\Anogeissus Model\\PA_AnogeissusZ4.png",plotPA_A_Z4)
install.packages("gstat")
#♥pas de doublon
################ Autocorrélation spatiale
library(gstat)
#############################################################
#Enregistrements en double pour l'espèce
dups <- duplicated(Base_Balanites_Z1[, 1:3])
class(dups)
table(dups)
dataFZ1
#♥pas de doublon
################ Autocorrélation spatiale
#############1 avec le corrélogramme de SDMSelect
data.prepared1<-Prepare_dataset(x=dataFZ1,var=1,cov = 2:ncol(dataFZ1),datatype = "PA",na.rm = TRUE)
######zone 2
data.prepared2<-Prepare_dataset(x=dataFZ2,var=1,cov = 2:ncol(dataFZ2),datatype = "PA",na.rm = TRUE)
